#!/bin/sh

output_connected() {
    OUTPUT="$1"; shift
    xrandr --query | grep "^$OUTPUT" | awk '{print $2;}'
}

# Setup dual monitor setup
# if two monitors are present
if [ "$(output_connected VGA-1)" = connected -a "$(output_connected DVI-D-1)" = connected ]; then
    logger "Two external screens connected, remapping displays"
    xrandr --output LVDS-1 --off
    xrandr --output VGA-1 --preferred
    xrandr --output DVI-D-1 --preferred
    xrandr --output VGA-1 --right-of DVI-D-1

    # Reload wallpaper
    eval $(cat .fehbg )
else 
    logger "One or zero external screens connected, no display remapping"
fi

